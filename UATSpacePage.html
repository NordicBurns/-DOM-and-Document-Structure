<!DOCTYPE html>
<html>
<!--Karter Burns-->

<head>
    <script src="Code.js"></script>
    <script src="Class.js"></script>
    <script src="dataLoader.js"></script>
    <link href="Style.css" rel="stylesheet" type="text/css">
    <script>
        //creating global variables for webpage
        var theTime = new Date();
        var tempTime = new Date();
        var time_interval = 5000;
        var last_iteration = 0;
        var running = true;
        var index = 0;
        var timer;

        // Gets data into array
        var data = getData();

        //Function to load and display data
        function updateDisplay(){
            console.log("Display time: " + theTime.getHours() + ":"  
            + (theTime.getMinutes() < 10 ? "0" + theTime.getMinutes() : theTime.getMinutes()) + ":" 
            + (theTime.getSeconds() < 10 ? "0" + theTime.getSeconds() : theTime.getSeconds()));
            theTime = new Date;
            var timeRead = data[index].time_seconds;
        
            if(timeRead >= 10) {
                document.getElementById("data").rows["seconds"].innerHTML = dataRow("Time Elapsed", data[index].time_seconds, "seconds");
                document.getElementById("data").rows["latitude"].innerHTML = dataRow("Latitude", data[index].latitude, " ");
                document.getElementById("data").rows["longitude"].innerHTML = dataRow("Longitude", data[index].longitude, " ");
                document.getElementById("data").rows["gps_altitude"].innerHTML = dataRow("GPS Altitude", data[index].gps_altitude, " ");
                document.getElementById("data").rows["bmpSensor_altitude"].innerHTML = dataRow("BMP Sensor Altitude", data[index].bmpSensor_altitude, " ");
                document.getElementById("data").rows["bmpSensor_pressure"].innerHTML = dataRow("BMP Sensor Pressure", data[index].bmpSensor_pressure, " ");
                document.getElementById("data").rows["bmpSensor_temp"].innerHTML = dataRow("BMP Sensor Temp", data[index].bmpSensor_temp, " ");
                document.getElementById("data").rows["digSensor_temp"].innerHTML = dataRow("Digital Sensor Temp", data[index].digSensor_temp, " ");
                document.getElementById("data").rows["cssSensor_temp"].innerHTML = dataRow(">CSS Sensor Temp", data[index].cssSensor_temp, " ");
                document.getElementById("data").rows["cssSensor_eCO2"].innerHTML = dataRow("CSS Sensor eCO2", data[index].cssSensor_eCO2, " ");
                document.getElementById("data").rows["cssSensor_TVOC"].innerHTML = dataRow("CSS Sensor TVOC", data[index].cssSensor_TVOC, " ");
                document.getElementById("data").rows["UV"].innerHTML = dataRow("UV", data[index].UV, " ");
                document.getElementById("data").rows["accelX"].innerHTML = dataRow("Accel X", data[index].accelX, " ");
                document.getElementById("data").rows["accelY"].innerHTML = dataRow("Accel Y", data[index].accelY, " ");
                document.getElementById("data").rows["accelZ"].innerHTML = dataRow("Accel Z", data[index].accelZ, " ");
                document.getElementById("data").rows["magneticX"].innerHTML = dataRow("Magnetic X", data[index].magneticX, " ");
                document.getElementById("data").rows["magneticY"].innerHTML = dataRow("Magnetic Y", data[index].magneticY, " ");
                document.getElementById("data").rows["magneticZ"].innerHTML = dataRow("Magnetic Z", data[index].magneticZ, " ");
                document.getElementById("data").rows["gyroX"].innerHTML = dataRow("Gyro X", data[index].gyroX, " ");
                document.getElementById("data").rows["gyroY"].innerHTML = dataRow("Gyro Y", data[index].gyroY, " ");
                document.getElementById("data").rows["gyroZ"].innerHTML = dataRow("Gyro Z", data[index].gyroZ, " ");
                document.getElementById("clockTime").innerHTML = "Display time: " + theTime.getHours() + ":"  
            + (theTime.getMinutes() < 10 ? "0" + theTime.getMinutes() : theTime.getMinutes()) + ":" 
            + (theTime.getSeconds() < 10 ? "0" + theTime.getSeconds() : theTime.getSeconds());
                if (index < 500){
                    index++;
                } else {
                    index = 0;
                }
            }
        }
    </script>
    <title>
        Karters CSC102 Space Page
    </title>
    <script>
        //alert("Alert Function Test");
    </script>

</head>

<body>
    <table>
        <td><img src="UATspaceLogo-1.jpg"> </td>
        <td>
            <h1>
                <p style="color:aqua">UAT Space Program</p>
            </h1>
        </td>
    </table>
    <table id="data" width="70%" border="2">
        <thread>
            <th>Data Type</th>
            <th>Reading</th>
        </thread>
        <tbody>
            <tr id="seconds"></tr>
            <tr id="latitude"></tr>
            <tr id="longitude"></tr>
            <tr id="gps_altitude"></tr>
            <tr id="bmpSensor_altitude"></tr>
            <tr id="bmpSensor_pressure"></tr>
            <tr id="bmpSensor_temp"></tr>
            <tr id="digSensor_temp"></tr>
            <tr id="cssSensor_temp"></tr>
            <tr id="cssSensor_eCO2"></tr>
            <tr id="cssSensor_TVOC"></tr>
            <tr id="UV"></tr>
            <tr id="accelX"></tr>
            <tr id="accelY"></tr>
            <tr id="accelZ"></tr>
            <tr id="magneticX"></tr>
            <tr id="magneticY"></tr>
            <tr id="magneticZ"></tr>
            <tr id="gyroX"></tr>
            <tr id="gyroY"></tr>
            <tr id="gyroZ"></tr>
        </tbody>
    </table>
    <p id="clockTime">Displays time when running</p>
    <br>
    <button id="startButton" class="button" onclick="start();">Start</button>
    <button id="stopButton" class="button" onclick="stop();">Stop</button><br>
    <br>
    <p id="CountdownTimer">Starting in...</p>
    <br>
    <br>
    <button onclick="playCraps();">Play Craps!</button>
    <p id="die1Res">Die 1... </p>
    <p id="die2Res">Die 2... </p>
    <p id="sum1Res">Sum...</p>
    <p id="finalRes">Win, lose or draw...</p>
    <br>
    <br>
    <script>
        var fallLaunch = new Mission(75, 100, 25, "New Haven", 31, "October", 2021, 5);
        var springLaunch = new Mission(25, 50, 5, "Trinity", 12, "April", 2022, 3);
    </script>
    <button class="lgButton" onclick="launchFall();">Lauch Fall Mission</button>
    <button class="lgButton" onclick="displayFall();">Display Fall Mission</button><br>
    <button class="lgButton" onclick="launchSpring();">Launch Spring Mission</button>
    <button class="lgButton" onclick="displaySpring();">Display Spring Mission</button>
</body>
<br>
<br>
<button class="lgButton" onclick="playStation();">Play SpaceStation Synthwave</button>
<button class="lgButton" onclick="stopStation();">Stop SpaceStation Synthwave</button>
<br>
</html>